= ErrorBoundary Component
:toc:
:toc-placement: preamble
:sectnums:
:icons: font
:revdate: 2025-08-09
:revremark: Initial documentation

[.lead]
Class-based React error boundary with sanitised logging and user-friendly fallback UI.

== Overview
Catches render / lifecycle / constructor errors in descendant components, logs sanitized details, and renders a recovery interface offering retry and full page reload actions.

== File Details
[cols="1,3"]
|===
|*Location* |`src/wrappers/ErrorBoundary.tsx`
|*Type* |Class Component
|*Export* |Named Export
|===

== Props
[cols="1,1,3,1"]
|===
|*Prop* |*Type* |*Description* |*Required*
|children |`ReactNode` |Wrapped subtree |Yes
|fallback |`ReactNode` |Custom fallback UI override |No
|===

== State
[cols="1,1,3"]
|===
|*Key* |*Type* |*Description*
|hasError |`boolean` |Indicates failure state
|error |`Error` |Captured error object
|errorInfo |`ErrorInfo` |Component stack trace
|===

== Fallback UI
Default fallback provides:
* Clear error headline & reassurance copy
* Retry button (resets boundary state)
* Page reload button
* Development-only expandable error details

== Logging Sanitisation
Removes control characters and non-printable Unicode to prevent log injection or terminal corruption.

== Usage
[source,tsx]
----
<ErrorBoundary>
  <PotentiallyUnstableTree />
</ErrorBoundary>
----

== Retry Logic
Clicking "Try Again" resets internal state, re-rendering children; useful for transient, client-side failures.

== Limitations
Does not catch:
* Event handler errors
* Asynchronous errors (Promises) unless surfaced in render
* Server-side rendering errors

== Best Practices
* Place near root to capture broad failures; nest for feature isolation.
* Provide domain-specific fallback when user workflows differ.

== Change History
[cols="1,1,3"]
|===
|*Version* |*Date* |*Changes*
|1.0.0 |2025-08-09 |Initial documentation
|===
