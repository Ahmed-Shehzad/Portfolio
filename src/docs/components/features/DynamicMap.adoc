= DynamicMap Component
:toc:
:toc-placement: preamble
:sectnums:
:icons: font
:revdate: 2025-08-09
:revremark: Initial documentation

[.lead]
Client-only wrapper that dynamically imports the interactive OpenStreetMap component to avoid SSR issues.

== Overview
`DynamicMap` defers loading of the Leaflet-based `OpenStreetMap` component until it reaches the client, supplying a graceful skeleton loading state and preventing server-side rendering errors inherent to DOM-dependent libraries.

== Component Details
[cols="1,3"]
|===
|*File Location* |`src/components/features/DynamicMap.tsx`
|*Type* |Functional Component (FC)
|*Client/Server* |Client (`"use client"`)
|*Export* |Named Export
|===

== Props
[cols="1,1,3,1"]
|===
|*Prop* |*Type* |*Description* |*Required*
|center |`[number, number]` |Latitude/Longitude tuple |Yes
|zoom |`number` |Initial zoom level |Yes
|className |`string` |Container classes |No
|markerImage |`StaticImageData` |Custom marker image |No
|===

== Loading State
Displays an animated pulse skeleton container with contextual text until the dynamic import resolves.

== Usage
[source,tsx]
----
<DynamicMap
  center={[31.5204, 74.3587]}
  zoom={6}
  className="h-80 w-full rounded-xl overflow-hidden"
/>
----

== Error Handling
All primary error handling is delegated to `OpenStreetMap`; if the dynamic import itself fails, Next.js will surface the error boundary.

== Performance
* Code-splitting via `next/dynamic`.
* Skeleton avoids layout shift.
* Only loads Leaflet in browsers, reducing server bundle size.

== Change History
[cols="1,1,3"]
|===
|*Version* |*Date* |*Changes*
|1.0.0 |2025-08-09 |Initial documentation
|===
